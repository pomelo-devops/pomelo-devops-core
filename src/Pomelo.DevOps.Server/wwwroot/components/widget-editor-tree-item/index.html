<!--
    Copyright (c) Yuko(Yisheng) Zheng. All rights reserved.
    Licensed under the MIT. See LICENSE in the project root for license information.
-->
<div class="widget-editor-tree-item"
     v-bind:style="`padding-left: ${level * 15}px`"
     v-on:click="setActive(modelValue, $event)"
     v-bind:class="{ active: $root.active == modelValue }"
     v-if="modelValue.type == 'File'">
    <svg t="1671871431632" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6064" width="20" height="20"><path d="M160 0h512l256 256v704c0 35.3472-28.6528 64-64 64H160c-35.3472 0-64-28.6528-64-64V64c0-35.3472 28.6528-64 64-64z" fill="#F16C00" p-id="6065"></path><path d="M727.8016 510.9952a58.7456 58.7456 0 0 1-8.8 21.1392c-3.4944 5.312-7.04 8.8704-10.592 7.0656-3.4944 0-5.2992-22.944-6.9952-26.5024a68.5376 68.5376 0 0 1-5.2928-19.392c-1.7536-14.1184-7.0464-26.5472-15.8976-31.808-8.7936-7.0592-21.0816-12.3712-36.9728-15.936a116.0896 116.0896 0 0 1-47.5776-21.1328c-14.0864-10.624-29.9264-19.4368-38.72-30.0608-8.8512-8.8128-15.8976-10.624-19.392-8.8128-5.2992 1.7536-7.0464 7.0656-7.0464 12.3712v328.48c0 8.8704-1.7472 19.4368-5.2992 30.0608-3.4944 10.624-5.2992 21.184-14.0928 31.7568-8.7936 10.624-21.1328 17.6832-36.9728 24.7488-15.8976 7.0656-35.232 10.624-56.4224 12.3712a127.7184 127.7184 0 0 1-63.4112-12.3712 126.4384 126.4384 0 0 1-44.0256-33.568c-10.592-14.1248-15.8912-28.2496-15.8912-45.9392 0-15.872 7.104-31.7568 22.9376-45.888 14.0928-14.1248 29.9328-24.7424 47.5712-30.0544 17.5936-5.312 33.4848-8.8128 49.3248-8.8128 15.8912 0 40.5248 0 52.864 3.552 12.2944 3.5072 21.1456 5.312 28.1856 7.0656V346.688c0-10.624 3.5008-19.392 8.8-26.4512 5.2928-7.0656 14.0864-10.624 22.88-12.3712 8.8512-1.7536 15.8976 0 21.1904 5.312 5.2992 3.5008 0 10.6176 6.9952 17.6256 5.2992 7.0656 12.3456 15.936 21.1904 26.5024 8.7936 10.624 19.3344 19.4368 33.4272 28.256 12.3456 8.8128 22.9376 14.1248 31.7312 19.4368 8.8 3.5072 17.6448 7.0656 24.6912 10.624 7.04 3.5008 15.84 7.008 22.8864 12.32 7.04 5.312 15.8912 12.3712 24.6336 22.9952 8.8448 10.624 14.0928 19.3856 15.8912 30.0032 0 10.624 0 21.1904-1.7984 30.0096v0.0512z" fill="#F16C00" p-id="6066" data-spm-anchor-id="a313x.7781069.0.i0" class="selected"></path><path d="M672 0l256 256h-192c-35.3472 0-64-28.6528-64-64V0z" fill="#F9C499" p-id="6067"></path></svg>
    <span v-if="!editing">{{ modelValue.name }}</span>
    <input v-else
           v-bind:id="`edit-${id}`"
           type="text"
           class="widget-editor-tree-item-textbox"
           v-model="modelValue.name"
           v-on:blur="onBlur"
           v-on:keyup.enter="onBlur" />

    <span class="widget-editor-tree-folder-actions" v-if="!editing">
        <a title="Rename" v-on:click="edit">
            <svg t="1671876062045" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="40344" width="20" height="20"><path d="M841.49589333 230.19178667c-20.09998222 0-36.38613333 16.29752889-36.38613333 36.38613333 0 20.08632889 16.28615111 36.38499555 36.38613333 36.38499555 33.43587555 0 60.64241778 27.19402667 60.64241778 60.64241778v270.87872c0 33.44725333-27.20654222 60.64241778-60.64355556 60.64241778-20.09884445 0-36.38499555 16.29752889-36.38499555 36.38613334s16.28615111 36.38385778 36.38613333 36.38385777c73.56416 0 133.41354667-59.86076445 133.41354667-133.41354667V363.60647111c0-73.55392-59.84938667-133.41582222-133.41354667-133.41582222zM594.88711111 731.51260445c0-20.08746667-16.28728889-36.38613333-36.38613333-36.38613334H182.50296889c-33.43587555 0-60.64241778-27.19288889-60.64241778-60.64128V363.60647111c0-33.44839111 27.20654222-60.64355555 60.64355556-60.64355556h378.0096c20.09884445 0 36.38613333-16.29752889 36.38613333-36.38499555s-16.28728889-36.38613333-36.38613333-36.38613333H182.50296889c-73.56416 0-133.41354667 59.86190222-133.41354667 133.41582222v270.87872c0 73.55278222 59.84938667 133.41354667 133.41354667 133.41354666H558.50097778c20.09884445-0.00227555 36.38613333-16.29866667 36.38613333-36.38613333z" fill="#909399" p-id="40345"></path><path d="M851.59936 936.4992H742.71857778v-848.9984h133.13592889c20.09998222 0 36.38613333-16.29866667 36.38613333-36.38613333s-16.28615111-36.38613333-36.38613333-36.38613334H560.51484445c-20.09884445 0-36.38613333 16.29866667-36.38613334 36.38613334s16.28728889 36.38613333 36.38613334 36.38613333h109.43601777v848.9984H536.25742222c-20.09998222 0-36.38613333 16.29752889-36.38613333 36.38499555s16.28615111 36.38613333 36.38613333 36.38613334h315.34193778c20.09884445 0 36.38613333-16.29866667 36.38613333-36.38613334s-16.28728889-36.38499555-36.38613333-36.38499555zM220.91434667 475.61386667c-20.09884445 0-36.38613333 16.29866667-36.38613334 36.38613333s16.28728889 36.38613333 36.38613334 36.38613333h242.57194666c20.09884445 0 36.38613333-16.29866667 36.38613334-36.38613333s-16.28728889-36.38613333-36.38613334-36.38613333H220.91434667z" fill="#909399" p-id="40346"></path></svg>
        </a>
        <a title="Delete" v-on:click="deleteItem(modelValue)">
            <svg t="1671873260530" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="26596" width="20" height="20"><path d="M928.16 144H736V64a32 32 0 0 0-32-32H320a32 32 0 0 0-32 32v80H95.84a32 32 0 0 0 0 64H129.6l77.92 698.656A96 96 0 0 0 302.912 992h418.144a96.032 96.032 0 0 0 95.424-85.344L894.4 208h33.728a32 32 0 0 0 0.032-64zM352 96h320v48H352V96z m400.896 803.552a32 32 0 0 1-31.808 28.448H302.912a32 32 0 0 1-31.808-28.448L193.984 208h636.032l-77.12 691.552z" p-id="26597"></path><path d="M608 820.928a32 32 0 0 0 32-32V319.104a32 32 0 0 0-64 0v469.824a32 32 0 0 0 32 32zM432 820.928a32 32 0 0 0 32-32V319.104a32 32 0 0 0-64 0v469.824a32 32 0 0 0 32 32z" p-id="26598"></path></svg>
        </a>
    </span>
</div>
<div class="widget-editor-tree-item"
     v-bind:style="`padding-left: ${level * 15}px`"
     v-on:click="toggle"
     v-else>
    <svg v-if="!!!toggled" t="1671871511761" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11330" width="20" height="20"><path d="M0 139.636364a46.545455 46.545455 0 0 1 46.545455-46.545455h354.897454a51.2 51.2 0 0 1 47.057455 31.034182L473.6 182.679273 977.454545 182.690909a46.545455 46.545455 0 0 1 46.545455 46.545455v546.909091a46.545455 46.545455 0 0 1-46.545455 46.545454H46.545455a46.545455 46.545455 0 0 1-46.545455-46.545454V139.636364z" fill="#FFA000" p-id="11331"></path><path d="M0 276.945455m46.545455 0l930.90909 0q46.545455 0 46.545455 46.545454l0 558.545455q0 46.545455-46.545455 46.545454l-930.90909 0q-46.545455 0-46.545455-46.545454l0-558.545455q0-46.545455 46.545455-46.545454Z" fill="#FFCA28" p-id="11332"></path></svg>
    <svg v-else t="1671871756294" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="23058" width="20" height="20"><path d="M0 128a51.2 51.2 0 0 1 51.2-51.2h350.24a51.2 51.2 0 0 1 47.0592 31.0336L473.6 166.4h499.2a51.2 51.2 0 0 1 51.2 51.2v537.6a51.2 51.2 0 0 1-51.2 51.2H51.2a51.2 51.2 0 0 1-51.2-51.2V128z" fill="#FFA000" p-id="23059"></path><path d="M89.6 249.6m51.2 0l742.4 0q51.2 0 51.2 51.2l0 460.8q0 51.2-51.2 51.2l-742.4 0q-51.2 0-51.2-51.2l0-460.8q0-51.2 51.2-51.2Z" fill="#FFFFFF" p-id="23060"></path><path d="M0 332.8m51.2 0l921.6 0q51.2 0 51.2 51.2l0 512q0 51.2-51.2 51.2l-921.6 0q-51.2 0-51.2-51.2l0-512q0-51.2 51.2-51.2Z" fill="#FFCA28" p-id="23061"></path></svg>
    <span v-if="!editing">{{ modelValue.name }}</span>
    <input v-else
           v-bind:id="`edit-${id}`"
           type="text"
           class="widget-editor-tree-item-textbox"
           v-model="modelValue.name"
           v-on:blur="onBlur"
           v-on:keyup.enter="onBlur" />

    <span class="widget-editor-tree-folder-actions" v-if="!editing">
        <a v-bind:title="$root.$root.localization.sr('SYSTEM_WIDGET_EDIT_NEW_FILE')" v-on:click="newFile">
            <svg t="1671870192276" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3541" width="20" height="20"><path d="M455.111111 967.111111H170.666667V56.888889h523.377777L853.333333 227.555556v341.333333h-56.888889V250.311111L671.288889 113.777778H227.555556v796.444444h227.555555z" fill="#333333" p-id="3542"></path><path d="M853.333333 341.333333h-284.444444V56.888889h56.888889v227.555555h227.555555zM455.111111 739.555556h398.222222v56.888888H455.111111z" fill="#333333" p-id="3543"></path><path d="M625.777778 568.888889h56.888889v398.222222h-56.888889z" fill="#333333" p-id="3544"></path></svg>
        </a>
        <a v-bind:title="$root.$root.localization.sr('SYSTEM_WIDGET_EDIT_UPLOAD_FILE')" v-on:click="selectFile">
            <svg t="1671870589030" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5903" width="20" height="20"><path d="M833.47 337.03C804.22 187.15 672.62 73.83 511.77 73.83c-160.84 0-292.44 113.32-321.69 263.2C80.42 366.28 0 468.63 0 585.61c0 142.57 113.32 255.9 255.89 255.9h36.56v-73.12h-36.56c-102.35 0-182.78-80.42-182.78-182.78 0-102.35 80.42-182.78 182.78-182.78 0-142.57 113.32-255.89 255.89-255.89s255.9 113.32 255.9 255.89c102.35 0 182.78 80.42 182.78 182.78s-80.42 182.78-182.78 182.78h-36.56v73.12h36.56c142.57 0 255.89-113.33 255.89-255.9-0.01-116.98-80.44-219.33-190.1-248.58z m0 0" fill="#323333" p-id="5904"></path><path d="M544.68 486.91c-14.63-10.97-29.24-14.63-43.87-7.31-3.65 0-7.31 3.65-10.97 7.31L380.17 592.92c-14.62 14.63-14.62 36.56 0 51.18 14.63 14.63 40.21 14.63 54.84 0l43.86-40.21v310.73c0 21.93 18.28 36.55 36.56 36.55 21.93 0 36.55-18.27 36.55-36.55V603.88l43.87 40.21c14.62 14.63 40.21 14.63 54.83 0 14.63-14.62 14.63-36.55 0-51.18l-106-106z m0 0" fill="#323333" p-id="5905"></path></svg>
        </a>
        <a v-bind:title="$root.$root.localization.sr('SYSTEM_WIDGET_EDIT_NEW_FOLDER')" v-on:click="newFolder">
            <svg t="1671870218343" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3686" width="20" height="20"><path d="M919.68 929.92H104.32A96.64 96.64 0 0 1 7.68 832V148.48A97.28 97.28 0 0 1 104.32 51.84H384a96.64 96.64 0 0 1 72.96 33.92l56.96 64a40.96 40.96 0 0 0 24.32 11.52l379.52-3.84A96.64 96.64 0 0 1 1016.32 256v576a96.64 96.64 0 0 1-96.64 97.92zM104.32 115.84a32.64 32.64 0 0 0-32.64 32.64V832a32 32 0 0 0 32.64 32h815.36a32 32 0 0 0 32.64-32V256a32 32 0 0 0-32.64-32l-378.88 3.84A103.68 103.68 0 0 1 467.2 192l-56.32-64A33.92 33.92 0 0 0 384 115.84z" fill="#323333" p-id="3687"></path><path d="M718.08 580.48H305.92a32 32 0 0 1-32-32 32 32 0 0 1 32-32h412.16a32 32 0 0 1 32 32 32 32 0 0 1-32 32z" fill="#323333" p-id="3688"></path><path d="M512 787.2a32 32 0 0 1-32-32V342.4a32 32 0 0 1 64 0v412.8a32 32 0 0 1-32 32z" fill="#323333" p-id="3689"></path></svg>
        </a>
        <a v-bind:title="$root.$root.localization.sr('SYSTEM_WIDGET_EDIT_RENAME')" v-on:click="edit">
            <svg t="1671876062045" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="40344" width="20" height="20"><path d="M841.49589333 230.19178667c-20.09998222 0-36.38613333 16.29752889-36.38613333 36.38613333 0 20.08632889 16.28615111 36.38499555 36.38613333 36.38499555 33.43587555 0 60.64241778 27.19402667 60.64241778 60.64241778v270.87872c0 33.44725333-27.20654222 60.64241778-60.64355556 60.64241778-20.09884445 0-36.38499555 16.29752889-36.38499555 36.38613334s16.28615111 36.38385778 36.38613333 36.38385777c73.56416 0 133.41354667-59.86076445 133.41354667-133.41354667V363.60647111c0-73.55392-59.84938667-133.41582222-133.41354667-133.41582222zM594.88711111 731.51260445c0-20.08746667-16.28728889-36.38613333-36.38613333-36.38613334H182.50296889c-33.43587555 0-60.64241778-27.19288889-60.64241778-60.64128V363.60647111c0-33.44839111 27.20654222-60.64355555 60.64355556-60.64355556h378.0096c20.09884445 0 36.38613333-16.29752889 36.38613333-36.38499555s-16.28728889-36.38613333-36.38613333-36.38613333H182.50296889c-73.56416 0-133.41354667 59.86190222-133.41354667 133.41582222v270.87872c0 73.55278222 59.84938667 133.41354667 133.41354667 133.41354666H558.50097778c20.09884445-0.00227555 36.38613333-16.29866667 36.38613333-36.38613333z" fill="#909399" p-id="40345"></path><path d="M851.59936 936.4992H742.71857778v-848.9984h133.13592889c20.09998222 0 36.38613333-16.29866667 36.38613333-36.38613333s-16.28615111-36.38613333-36.38613333-36.38613334H560.51484445c-20.09884445 0-36.38613333 16.29866667-36.38613334 36.38613334s16.28728889 36.38613333 36.38613334 36.38613333h109.43601777v848.9984H536.25742222c-20.09998222 0-36.38613333 16.29752889-36.38613333 36.38499555s16.28615111 36.38613333 36.38613333 36.38613334h315.34193778c20.09884445 0 36.38613333-16.29866667 36.38613333-36.38613334s-16.28728889-36.38499555-36.38613333-36.38499555zM220.91434667 475.61386667c-20.09884445 0-36.38613333 16.29866667-36.38613334 36.38613333s16.28728889 36.38613333 36.38613334 36.38613333h242.57194666c20.09884445 0 36.38613333-16.29866667 36.38613334-36.38613333s-16.28728889-36.38613333-36.38613334-36.38613333H220.91434667z" fill="#909399" p-id="40346"></path></svg>
        </a>
        <a v-bind:title="$root.$root.localization.sr('SYSTEM_WIDGET_EDIT_DELETE')" v-on:click="deleteItem(modelValue)">
            <svg t="1671873260530" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="26596" width="20" height="20"><path d="M928.16 144H736V64a32 32 0 0 0-32-32H320a32 32 0 0 0-32 32v80H95.84a32 32 0 0 0 0 64H129.6l77.92 698.656A96 96 0 0 0 302.912 992h418.144a96.032 96.032 0 0 0 95.424-85.344L894.4 208h33.728a32 32 0 0 0 0.032-64zM352 96h320v48H352V96z m400.896 803.552a32 32 0 0 1-31.808 28.448H302.912a32 32 0 0 1-31.808-28.448L193.984 208h636.032l-77.12 691.552z" p-id="26597"></path><path d="M608 820.928a32 32 0 0 0 32-32V319.104a32 32 0 0 0-64 0v469.824a32 32 0 0 0 32 32zM432 820.928a32 32 0 0 0 32-32V319.104a32 32 0 0 0-64 0v469.824a32 32 0 0 0 32 32z" p-id="26598"></path></svg>
        </a>
    </span>
</div>
<div v-if="!!toggled" class="widget-editor-tree-item-folder-padding">
    <widget-editor-tree-item v-for="item in modelValue.children"
                             v-bind:level="parseInt(level) + 1"
                             v-model="item" />
</div>
<input v-if="this.modelValue.type == 'Directory' && fileSelectorSwitch"
       type="file"
       v-bind:id="`file-${id}`"
       style="display: none"
       v-on:change="onFileSelected" />