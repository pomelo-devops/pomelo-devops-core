<!--
    Copyright (c) Yuko(Yisheng) Zheng. All rights reserved.
    Licensed under the MIT. See LICENSE in the project root for license information.
-->
<div class="gallery-step-header">
    <a class="gallery-step-general-settings" title="General Settings" v-on:click="toGeneralSettings" v-bind:class="{ active: active == 'general' }">
        <svg t="1670128638412" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4108" width="20" height="20"><path d="M658.285714 512q0-60.571429-42.857143-103.428571t-103.428571-42.857143-103.428571 42.857143-42.857143 103.428571 42.857143 103.428571 103.428571 42.857143 103.428571-42.857143 42.857143-103.428571zm292.571429-62.285714l0 126.857143q0 6.857143-4.571429 13.142857t-11.428571 7.428571l-105.714286 16q-10.857143 30.857143-22.285714 52 20 28.571429 61.142857 78.857143 5.714286 6.857143 5.714286 14.285714t-5.142857 13.142857q-15.428571 21.142857-56.571429 61.714286t-53.714286 40.571429q-6.857143 0-14.857143-5.142857l-78.857143-61.714286q-25.142857 13.142857-52 21.714286-9.142857 77.714286-16.571429 106.285714-4 16-20.571429 16l-126.857143 0q-8 0-14-4.857143t-6.571429-12.285714l-16-105.142857q-28-9.142857-51.428571-21.142857l-80.571429 61.142857q-5.714286 5.142857-14.285714 5.142857-8 0-14.285714-6.285714-72-65.142857-94.285714-96-4-5.714286-4-13.142857 0-6.857143 4.571429-13.142857 8.571429-12 29.142857-38t30.857143-40.285714q-15.428571-28.571429-23.428571-56.571429l-104.571429-15.428571q-7.428571-1.142857-12-7.142857t-4.571429-13.428571l0-126.857143q0-6.857143 4.571429-13.142857t10.857143-7.428571l106.285714-16q8-26.285714 22.285714-52.571429-22.857143-32.571429-61.142857-78.857143-5.714286-6.857143-5.714286-13.714286 0-5.714286 5.142857-13.142857 14.857143-20.571429 56.285714-61.428571t54-40.857143q7.428571 0 14.857143 5.714286l78.857143 61.142857q25.142857-13.142857 52-21.714286 9.142857-77.714286 16.571429-106.285714 4-16 20.571429-16l126.857143 0q8 0 14 4.857143t6.571429 12.285714l16 105.142857q28 9.142857 51.428571 21.142857l81.142857-61.142857q5.142857-5.142857 13.714286-5.142857 7.428571 0 14.285714 5.714286 73.714286 68 94.285714 97.142857 4 4.571429 4 12.571429 0 6.857143-4.571429 13.142857-8.571429 12-29.142857 38t-30.857143 40.285714q14.857143 28.571429 23.428571 56l104.571429 16q7.428571 1.142857 12 7.142857t4.571429 13.428571z" p-id="4109"></path></svg>
    </a>
    <img class="gallery-step-icon" v-bind:src="`/api/gallery/${stepId}/version/${stepVersion}/package.png`" />
    <div class="gallery-step-header-middle">
        <div><input type="text" v-if="step" v-model="step.name" class="step-name-textbox" /></div>
    </div>

    <select v-if="step" v-model="step.version" class="step-version-selector">
        <option v-for="package in packages" v-bind:value="package.version">{{ package.version }}</option>
    </select>

    <div class="gallery-step-method-outer" v-if="step">
        <svg t="1669997216027" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4801" width="16" height="16"><path d="M477.73124 877.872003l-40.848715-38.596516 40.848715-38.596515L600.321546 684.889426l40.848714 38.640676-75.824046 71.584613h273.222701V216.343626h-149.793341v-88.321546h238.114887v755.458341h-361.544247l75.824046 71.540452-40.848714 38.640676z m-385.302743 9.803691V132.217354h361.544248L378.192858 60.632741l40.804554-38.596515 122.546145 115.701224 40.804554 38.640677-40.804554 38.552354-122.590305 115.745386-40.848715-38.552355 75.779886-71.584613H180.661722v578.81525h149.793341v88.321545z" p-id="4802"></path></svg>
        <select v-model="step.method">
            <option v-for="opt in currentPackage.methods.split(',')">{{ opt }}</option>
        </select>
    </div>
</div>
<div id="step-main" v-bind:class="{ diagram: fromDiagram }"></div>
<div class="gallery-step-footer" v-if="fromDiagram">
    <a class="gallery-step-ok" v-on:click="close">OK</a>
</div>