<!--
    Copyright (c) Yuko(Yisheng) Zheng. All rights reserved.
    Licensed under the MIT. See LICENSE in the project root for license information.
-->
<div class="pipeline-jobs-main" v-if="result">
    <div class="pipeline-jobs-table-outer">
        <div class="form-filter-outer">
            <div class="form-filter">
                <svg t="1670392586345" class="icon" viewBox="0 0 1025 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4519" width="20" height="20"><path d="M852.255 322.528c0-65.712-53.442-119.172-119.132-119.172-65.711 0-119.171 53.461-119.171 119.172 0 65.69 53.46 119.132 119.171 119.132C798.813 441.66 852.255 388.217 852.255 322.528zM801.935 322.553c0 37.942-30.869 68.811-68.812 68.811-37.964 0-68.851-30.869-68.851-68.811 0-37.965 30.886-68.852 68.851-68.852C771.066 253.701 801.935 284.588 801.935 322.553z" p-id="4520"></path><path d="M1021.905 40.751l-0.842-6.791-6.838-0.284c-12.267-0.509-24.382-0.767-36.007-0.767-86.79 0-168.182 13.548-241.91 40.269-59.076 21.41-113.379 51.273-161.401 88.757-71.787 56.035-107.4 111.497-116.092 126.169l-168.014 21.019L42.324 557.61l243.649 0c-3.286 67.805 12.286 120.663 46.338 157.203 45.252 48.56 111.951 55.81 147.681 55.81 7.315 0 13.461-0.293 18.057-0.621L498.049 991.09l270.026-248.559L768.075 595.908c66.683-49.787 121.513-109.535 163.006-177.636 33.736-55.371 58.766-116.336 74.395-181.204C1032.094 126.591 1022.334 44.204 1021.905 40.751zM709.63 591.844l0 133.51-153.111 134.47 0-98.691c0-27.767-22.847-50.357-50.929-50.357-2.153 0-14.174 1.402-25.597 1.402-44.742 0-79.152-12.588-102.276-37.414-25.257-27.116-36.634-69.198-32.902-121.704 0.967-13.792-3.946-27.567-13.48-37.793-9.54-10.233-22.947-16.102-36.783-16.102L183.466 499.165 317.96 364.672l152.091-19.062c16.077-1.985 30.302-11.686 38.022-25.895 5.076-9.171 127.185-222.971 457.649-228.224-0.696 92.773-27.065 305.992-235.611 459.79C717.287 560.744 709.63 575.908 709.63 591.844z" p-id="4521"></path><path d="M242.325 696.294c-24.879-44.079-24.358-82.709-24.351-83.078l0.429-17.049L0 766.072l132.946 22.13L44.695 923.239l181.519-46.792 44.229 110.606L437.39 820.088l-14.037-3.358C337.849 796.275 275.251 754.628 242.325 696.294zM188.355 810.215c9.456-14.196 10.984-32.138 4.087-47.996-6.875-15.806-20.994-26.886-37.749-29.636l-13.533-2.255 37.999-29.537c12.287 27.803 29.561 53.445 51.45 76.349 26.682 27.922 59.684 51.039 98.229 68.828l-37.048 37.048-13.945-34.84c-7.559-18.906-26.441-31.609-46.986-31.609-4.042 0-8.078 0.49-12.014 1.462l-42.831 10.683L188.355 810.215z" p-id="4522"></path></svg>
                <input class="pipeline-jobs-header-search text" type="text" v-bind:placeholder="$root.localization.sr('PIPELINE_JOB_SEARCH_PLACEHOLDER')" v-model="search.name" />
                <a class="form-clear-button" title="Clear" v-on:click="search.name = null">
                    <svg t="1670831104615" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5081" width="20" height="20"><path d="M547.14368 512l329.45664 329.45664a23.04 23.04 0 0 1-32.58368 32.58368L514.56 544.58368l-329.45664 329.45664a23.04 23.04 0 0 1-32.58368-32.58368L481.97632 512 152.51968 182.54336a23.04 23.04 0 0 1 32.58368-32.58368L514.56 479.41632l329.45664-329.45664a23.04 23.04 0 0 1 32.58368 32.58368L547.14368 512z" fill="#000000" p-id="5082"></path></svg>
                </a>
            </div>
            <div class="form-filter" style="margin-left: 15px">
                <svg t="1670392603477" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5477" width="20" height="20"><path d="M469.333533 968.08a52.986667 52.986667 0 0 1-37.713333-15.62l-416-416A52.986667 52.986667 0 0 1 0.0002 498.746667V138.666667a53.393333 53.393333 0 0 1 53.333333-53.333334h360.08a52.986667 52.986667 0 0 1 37.713334 15.62l416 416a53.4 53.4 0 0 1 0 75.426667l-360.08 360.08a52.986667 52.986667 0 0 1-37.713334 15.62zM53.333533 128a10.666667 10.666667 0 0 0-10.666666 10.666667v360.08a10.573333 10.573333 0 0 0 3.126666 7.54l416 416a10.666667 10.666667 0 0 0 15.08 0l360.08-360.08a10.666667 10.666667 0 0 0 0-15.08l-416-416a10.573333 10.573333 0 0 0-7.54-3.126667z m224 341.333333c-58.813333 0-106.666667-47.853333-106.666666-106.666666s47.853333-106.666667 106.666666-106.666667 106.666667 47.853333 106.666667 106.666667-47.853333 106.666667-106.666667 106.666666z m0-170.666666a64 64 0 1 0 64 64 64.073333 64.073333 0 0 0-64-64z m335.086667 676.42l382.706667-382.706667a53.4 53.4 0 0 0 0-75.426667L569.753533 91.58a21.333333 21.333333 0 0 0-30.173333 30.173333l425.373333 425.373334a10.666667 10.666667 0 0 1 0 15.08l-382.706666 382.706666a21.333333 21.333333 0 0 0 30.173333 30.173334z" fill="#5C5C66" p-id="5478"></path></svg>
                <select class="pipeline-jobs-header-search select" v-model="search.label">
                    <option v-bind:value="null">{{ $root.localization.sr('PIPELINE_FILTER_BY_LABEL') }}</option>
                    <option v-for="label in labels">{{ label }}</option>
                </select>
            </div>
            <a class="pipeline-jobs-header-search-button new-job"
               v-if="$root.hasPermissionToPipeline(projectId, pipelineId, 1)"
               v-bind:href="`/project/${projectId}/pipeline/${pipelineId}/job/new`">
                <svg t="1670399129873" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4256" width="20" height="20"><path d="M800 480l-256 0L544 224c0-17.664-14.336-32-32-32s-32 14.336-32 32l0 256L224 480c-17.664 0-32 14.336-32 32s14.336 32 32 32l256 0 0 256c0 17.696 14.336 32 32 32s32-14.304 32-32l0-256 256 0c17.696 0 32-14.336 32-32S817.696 480 800 480z" p-id="4257"></path></svg>
                <span>{{ $root.localization.sr('PIPELINE_NEW_JOB') }}</span>
            </a>
        </div>
        <table class="pipeline-jobs-table">
            <colgroup>
                <col style="width: 25px;" />
                <col />
                <col />
            </colgroup>
            <thead v-if="result.data.length">
                <tr>
                    <th class="first-col"></th>
                    <th class="normal">{{ $root.localization.sr('PIPELINE_JOB_DESCRIPTION') }}</th>
                    <th class="normal">{{ $root.localization.sr('PIPELINE_JOB_DATE') }}
                    <th>
                </tr>
            </thead>
            <tbody v-for="job in result.data" v-on:click="toJob(job.number)">
                <tr>
                    <td rowspan="2" class="first-col">
                        <div class="pipeline-job-status" v-bind:class="{ 'green': job.status == 'Succeeded', 'red': job.status == 'Failed', 'blue': job.status == 'Running', 'orange': job.status == 'Skipped' }">
                            <i v-if="job.status == 'Succeeded'" class="fa fa-check"></i>
                            <i v-else-if="job.status == 'Waiting' || job.status == 'Pending'" class="fa fa-clock-o"></i>
                            <i v-else-if="job.status == 'Running'" class="fa fa-spinner fa-spin"></i>
                            <i v-else-if="job.status == 'Failed'" class="fa fa-close"></i>
                            <i v-else class="fa fa-minus"></i>
                        </div>
                    </td>
                    <td class="job-name">
                        <a class="job-title" v-bind:href="`/project/${projectId}/pipeline/${pipelineId}/job/${job.number}`">#{{ job.number }} · {{ job.name }}</a>
                        <span class="label" v-for="label in job.labels">{{ label.label }}</span>
                    </td>
                    <td class="job-date">
                        <svg t="1670394374388" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7353" width="20" height="20"><path d="M416.087 607.831l95.987 0 0-96-95.987 0L416.087 607.831zM544.078 735.828l96 0 0-95.994-96 0L544.078 735.828zM416.087 735.828l95.987 0 0-95.994-95.987 0L416.087 735.828zM288.084 607.831l96 0 0-96-96 0L288.084 607.831zM288.084 735.828l96 0 0-95.994-96 0L288.084 735.828zM544.078 607.831l96 0 0-96-96 0L544.078 607.831zM672.081 479.831l96 0 0-95.997-96 0L672.081 479.831zM832.078 191.833 224.077 191.833c-17.674 0-31.994 14.326-31.994 32.003l0 575.998c0 17.674 14.32 32 31.994 32l608.001 0c17.674 0 32.003-14.326 32.003-32L864.081 223.837C864.082 206.16 849.752 191.833 832.078 191.833zM832.082 767.832c0 17.674-14.326 32-32 32L256.08 799.832c-17.674 0-32-14.326-32-32L224.08 351.831c0-17.674 14.326-32 32-32l544.001 0c17.674 0 32 14.326 32 32L832.081 767.832zM672.081 607.831l96 0 0-96-96 0L672.081 607.831zM544.078 479.831l96 0 0-95.997-96 0L544.078 479.831z" p-id="7354"></path></svg>
                        <span>{{ $root.moment(job.startedAt || job.triggeredAt).format('YYYY-MM-DD HH:mm') }}</span>
                    </td>
                </tr>
                <tr>
                    <td class="job-desc">
                        <template v-if="job.triggerType == 'Manual'">
                            <svg t="1670394944136" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11470" width="20" height="20"><path d="M468.304267 1023.90001h-0.09999c-64.393712 0-125.887706-19.498096-177.982619-56.394493-52.294893-36.996387-90.491163-88.191388-110.5892-148.085538l-0.499951-1.499854-2.199786-6.799336L49.445171 405.260424c-16.598379-48.295284 8.899131-101.490089 57.094425-118.68841l0.29997-0.09999c37.396348-12.89874 77.992384-0.19998 102.589982 28.797188l-15.998438-113.188946c-4.19959-23.897666 1.499854-49.195196 15.598477-69.493214 14.398594-20.597988 35.696514-34.296651 60.094131-38.596231 24.597598-4.39957 49.495166 1.299873 70.193146 16.098428 16.598379 11.798848 28.697198 27.997266 34.996582 46.69544l0.19998-64.793672c0-50.695049 41.995899-91.991017 93.690851-91.991017 51.294991 0 93.190899 40.896006 93.59086 91.191095l5.799434 126.987598 7.599258-43.095791c3.199688-23.997656 15.498486-45.695538 34.696611-61.094034 19.798067-15.898447 44.295674-22.997754 69.093253-20.198027l0.399961 0.09999c24.697588 3.199688 46.69544 15.798457 62.093936 35.396543 15.298506 19.598086 22.197832 44.095694 19.298115 68.793282l-0.19998 1.099893L706.980959 549.346353c-0.399961 2.999707-0.799922 6.299385-1.299873 9.799043-1.499854 10.798945-5.199492 37.696319-3.899619 48.995215 1.599844-1.299873 3.699639-3.499658 5.799433-6.999316l72.492921-131.48716 1.099893-1.599843c18.098233-25.197539 48.695245-41.995899 81.892002-44.895616 31.396934-2.799727 61.394004 7.299287 82.291964 27.597305 21.497901 20.997949 33.396739 46.395469 34.19666 73.392833 0.799922 24.897569-7.499268 50.79504-24.597597 76.892491-4.599551 7.699248-47.095401 79.192266-96.290597 153.984962C763.975393 898.912216 725.179182 933.808808 704.281223 946.507568c-33.99668 24.697588-71.393028 43.795723-111.289132 56.994434-40.296065 13.298701-82.291964 20.198028-124.787814 20.497998l0.09999-0.09999zM240.726492 800.321844c32.496826 95.490675 123.687921 159.484425 227.377795 159.584415 72.29294-0.499951 141.386193-23.297725 199.78049-65.993555l1.299873-0.999903 1.399863-0.799921c8.199199-4.799531 41.995899-31.396934 134.786837-172.383166 50.99502-77.492432 94.590763-151.285226 94.990724-151.985158l0.899912-1.399863c24.597598-37.196368 13.498682-56.194512-0.499951-69.893175-7.499268-7.299287-19.198125-10.798945-31.996875-9.699052-13.998633 1.199883-27.097354 7.799238-34.596622 17.29831l-70.893077 128.687433-0.19998 0.299971c-16.698369 28.497217-43.995704 43.795723-71.193048 39.896104-22.497803-3.199688-35.796504-18.898154-40.196074-23.997657l-0.499951-0.499951c-17.998242-20.697979-14.998535-53.694756-8.899131-98.190411 0.499951-3.399668 0.899912-6.599356 1.299873-9.499072l0.09999-0.799922 53.594766-349.765843c1.599844-15.998438-9.899033-30.597012-25.797481-32.796798-15.598477-1.699834-30.996973 10.598965-32.896787 26.397423l-0.199981 1.699834L586.992676 477.353383l-0.899912 2.599747c-6.599356 18.298213-22.697783 28.997168-40.196074 26.497412-13.298701-1.899814-29.297139-12.59877-30.896983-36.496436v-0.699932L497.801387 92.790938V91.991017c0-15.498486-13.298701-27.997266-29.59711-27.997266-16.398399 0-29.6971 12.59877-29.6971 27.997266v0.09999l-1.199883 377.963089c0.499951 18.798164-12.89874 34.596621-30.996973 36.296456-18.298213 1.699834-33.89669-11.098916-36.796406-29.897081l-54.694659-294.871204c-2.899717-15.898447-19.098135-27.297334-34.596621-24.597598h-0.099991c-7.499268 1.299873-14.098623 5.599453-18.598183 12.098819-4.599551 6.599356-6.399375 14.598574-5.099502 22.097842l0.19998 1.299873 49.095206 348.066009v2.199785c0 24.097647-14.998535 35.396543-27.897276 37.8963-12.69876 2.399766-30.597012-2.499756-38.996192-24.297628l-0.09999-0.19998-72.892882-190.281418c-5.599453-15.498486-22.997754-24.197637-37.996289-19.098135-15.198516 5.499463-23.197735 22.397813-17.898252 37.696319l0.29997 0.999902 127.587541 406.160336 2.899717 8.699151z" p-id="11471"></path></svg>
                            <span>{{ job.triggerName || 'Manual' }}</span>
                        </template>
                        <template v-else-if="job.triggerType == 'Trigger'">
                            <svg t="1670395292383" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="12444" width="20" height="20"><path d="M395.765333 586.570667h-171.733333c-22.421333 0-37.888-22.442667-29.909333-43.381334L364.768 95.274667A32 32 0 0 1 394.666667 74.666667h287.957333c22.72 0 38.208 23.018667 29.632 44.064l-99.36 243.882666h187.050667c27.509333 0 42.186667 32.426667 24.042666 53.098667l-458.602666 522.56c-22.293333 25.408-63.626667 3.392-54.976-29.28l85.354666-322.421333zM416.714667 138.666667L270.453333 522.581333h166.869334a32 32 0 0 1 30.933333 40.181334l-61.130667 230.954666 322.176-367.114666H565.312c-22.72 0-38.208-23.018667-29.632-44.064l99.36-243.882667H416.714667z" p-id="12445"></path></svg>
                            <span>{{ job.triggerName || 'Trigger' }}</span>
                        </template>
                        <template v-else>
                            <svg t="1670395440643" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="13562" width="20" height="20"><path d="M917.7 148.8l-42.4-42.4c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1 0.8-5.7 2.3l-76.1 76.1c-33.7-22.9-72.9-34.3-112.1-34.3-51.2 0-102.4 19.5-141.5 58.6L432.3 308.7c-3.1 3.1-3.1 8.2 0 11.3L704 591.7c1.6 1.6 3.6 2.3 5.7 2.3 2 0 4.1-0.8 5.7-2.3l101.9-101.9c68.9-69 77-175.7 24.3-253.5l76.1-76.1c3.1-3.2 3.1-8.3 0-11.4zM769.1 441.7l-59.4 59.4-186.8-186.8 59.4-59.4c24.9-24.9 58.1-38.7 93.4-38.7 35.3 0 68.4 13.7 93.4 38.7 24.9 24.9 38.7 58.1 38.7 93.4 0 35.3-13.8 68.4-38.7 93.4zM578.9 546.7c-3.1-3.1-8.2-3.1-11.3 0L501 613.3 410.7 523l66.7-66.7c3.1-3.1 3.1-8.2 0-11.3L441 408.6c-3.1-3.1-8.2-3.1-11.3 0L363 475.3l-43-43c-1.6-1.6-3.6-2.3-5.7-2.3-2 0-4.1 0.8-5.7 2.3L206.8 534.2c-68.9 69-77 175.7-24.3 253.5l-76.1 76.1c-3.1 3.1-3.1 8.2 0 11.3l42.4 42.4c1.6 1.6 3.6 2.3 5.7 2.3s4.1-0.8 5.7-2.3l76.1-76.1c33.7 22.9 72.9 34.3 112.1 34.3 51.2 0 102.4-19.5 141.5-58.6l101.9-101.9c3.1-3.1 3.1-8.2 0-11.3l-43-43 66.7-66.7c3.1-3.1 3.1-8.2 0-11.3l-36.6-36.2zM441.7 769.1c-24.9 24.9-58.1 38.7-93.4 38.7-35.3 0-68.4-13.7-93.4-38.7-24.9-24.9-38.7-58.1-38.7-93.4 0-35.3 13.7-68.4 38.7-93.4l59.4-59.4 186.8 186.8-59.4 59.4z" p-id="13563"></path></svg>
                            <span>{{ job.triggerName || 'API' }}</span>
                        </template>

                        <span>{{ job.description }}</span>
                    </td>
                    <td class="job-duration">
                        <svg t="1670394634545" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8563" width="20" height="20"><path d="M502.636928 895.983745c-47.11538 0-92.833058-9.233029-135.883325-27.440027-41.571672-17.582383-78.901085-42.748199-110.950971-74.798085-32.051934-32.05091-57.21775-69.379299-74.801157-110.949947-18.209045-43.051291-27.442075-88.769992-27.442075-135.887421 0-47.114356 9.233029-92.832034 27.442075-135.883325 17.582383-41.570648 42.749223-78.900061 74.800133-110.950971s69.380323-57.21775 110.950971-74.800133c43.050267-18.209045 88.768968-27.442075 135.883325-27.442075 47.117428 0 92.83613 9.233029 135.887421 27.442075 41.571672 17.582383 78.901085 42.749223 110.950971 74.801157 32.049886 32.05091 57.215702 69.380323 74.798085 110.950971 18.206998 43.050267 27.440027 88.767945 27.440027 135.882301 0 47.117428-9.233029 92.83613-27.440027 135.887421-17.582383 41.571672-42.748199 78.900061-74.799109 110.949947-32.049886 32.049886-69.379299 57.215702-110.949947 74.798085C595.474082 886.750715 549.754356 895.983745 502.636928 895.983745zM502.636928 244.374749c-166.81812 0-302.53454 135.71642-302.53454 302.533516 0 166.816073 135.71642 302.531468 302.53454 302.531468 166.817096 0 302.532492-135.715396 302.532492-302.531468C805.170444 380.091168 669.455048 244.374749 502.636928 244.374749z" p-id="8564"></path><path d="M502.636928 616.722746c-12.852721 0-23.271494-10.419797-23.271494-23.272518l0-255.989504c0-12.852721 10.418773-23.272518 23.271494-23.272518s23.272518 10.419797 23.272518 23.272518l0 255.989504C525.909446 606.30295 515.489649 616.722746 502.636928 616.722746z" p-id="8565"></path><path d="M502.636928 244.374749c-12.852721 0-23.271494-10.418773-23.271494-23.271494l0-69.815506c0-12.852721 10.418773-23.271494 23.271494-23.271494s23.272518 10.418773 23.272518 23.271494l0 69.815506C525.909446 233.955976 515.489649 244.374749 502.636928 244.374749z" p-id="8566"></path><path d="M502.636928 500.364253c25.704418 0 46.542988 20.839594 46.542988 46.542988s-20.839594 46.542988-46.542988 46.542988-46.544012-20.839594-46.544012-46.542988S476.933534 500.364253 502.636928 500.364253z" p-id="8567"></path><path d="M731.991236 339.370406c-5.95534 0-11.911704-2.272163-16.455005-6.815465-9.088651-9.088651-9.088651-23.823407 0-32.912059l65.814902-65.814902c9.087627-9.087627 23.823407-9.087627 32.911035 0 9.088651 9.088651 9.088651 23.823407 0 32.912059l-65.814902 65.814902C743.90294 337.099267 737.946576 339.370406 731.991236 339.370406z" p-id="8568"></path><path d="M764.937645 184.428986l98.72802 98.72802-32.910547 32.910547-98.72802-98.72802 32.910547-32.910547Z" p-id="8569"></path></svg>
                        <span v-bind:title="$root.localization.sr('PIPELINE_JOB_DURATION_STARTED_TEMPLATE', duration(job.triggeredAt))" v-if="job.status == 'Pending' || job.status == 'Waiting'">{{ duration(job.triggeredAt) }}</span>
                        <span v-bind:title="$root.localization.sr('PIPELINE_JOB_DURATION_STARTED_TEMPLATE', duration(job.startedAt))" v-else>{{ duration(job.startedAt, job.finishedAt) }}</span>
                    </td>
                </tr>
            </tbody>
            <tbody class="no-job" v-if="!result.data.length">
                <tr>
                    <td colspan="3">{{ $root.localization.sr('PIPELINE_JOB_NO_RESULT') }}</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="pipeline-job-pagination">
        <ul class="pipeline-job-nav">
            <li class="pipeline-job-nav-page" v-on:click="getJobs(1)"><a>«</a></li>
            <li class="pipeline-job-nav-page" v-for="x in paging" v-bind:class="{ active: result && result.currentPage == x }" v-on:click="getJobs(x)"><a>{{ x }}</a></li>
            <li class="pipeline-job-nav-page" v-on:click="getJobs(result.totalPages)"><a>»</a></li>
        </ul>
    </div>
</div>