<div class="pipeline-diagram-menu">
    <a class="pipeline-diagram-menu-button" v-on:click="save" v-if="$root.hasPermissionToPipeline(projectId, pipelineId, 2)">
        <svg t="1669804635301" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="10225" width="20" height="20"><path d="M725.4 105.7H151.8c-27.1 0-49.2 22-49.2 49.1v711.8c0 27.1 22.1 49.1 49.2 49.1H866c27.1 0 49.2-22 49.2-49.1V294.8L725.4 105.7z m-399.4 40h338.8v241.9c0 12.9-10.5 23.3-23.5 23.3H349.5c-12.9 0-23.5-10.5-23.5-23.3V145.7z m5.4 727.6V612.5c0-4.1 3.4-7.4 7.5-7.4h363.4c4.1 0 7.5 3.3 7.5 7.4v260.8H331.4z m543.8-6.8c0 4.9-4.2 9.1-9.2 9.1H749.9V612.5c0-26.1-21.3-47.4-47.5-47.4H339c-26.2 0-47.5 21.3-47.5 47.4v263.2H151.8c-5 0-9.2-4.2-9.2-9.1V154.8c0-4.9 4.2-9.1 9.2-9.1H286v241.9c0 34.9 28.5 63.3 63.5 63.3h291.8c35 0 63.5-28.4 63.5-63.3V145.7h4l166.4 165.8v555z" fill="#403E3E" p-id="10226"></path><path d="M638.4 664H400.8c-11 0-20 9-20 20s9 20 20 20h237.6c11 0 20-9 20-20s-8.9-20-20-20zM638.4 765.1H400.8c-11 0-20 9-20 20s9 20 20 20h237.6c11 0 20-9 20-20s-8.9-20-20-20z" fill="#403E3E" p-id="10227"></path></svg>
        <span>{{ $root.localization.sr('PIPELINE_EDIT_SAVE') }}</span>
    </a>
    <a class="pipeline-diagram-menu-button" v-on:click="discard">
        <svg t="1669818557821" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4276" width="20" height="20"><path d="M192 631.3c-6.9 0-13.8-2.9-18.8-8.5l-67.7-76.7c-9.1-10.4-8.1-26.2 2.2-35.3 10.4-9.1 26.2-8.1 35.3 2.2l67.7 76.7c9.1 10.4 8.1 26.2-2.2 35.3-4.7 4.3-10.6 6.3-16.5 6.3z m7.3 5.3c-7 0-14-2.9-18.9-8.7-9-10.5-7.9-26.2 2.6-35.3l81.7-70.5c10.5-9 26.2-7.9 35.3 2.6s7.9 26.2-2.6 35.3l-81.7 70.5c-4.8 4.1-10.6 6.1-16.4 6.1z m333.1 273.2c-16.6 0-30-13.4-30-30s13.4-30 30-30c164.9 0 299.1-134.2 299.1-299.1S697.3 251.6 532.4 251.6c-164.9 0-299.1 134.2-299.1 299.1 0 16.6-13.4 30-30 30s-30-13.4-30-30c0-48.5 9.5-95.5 28.2-139.8 18.1-42.8 44-81.2 76.9-114.1 33-33 71.4-58.9 114.1-76.9 44.3-18.7 91.3-28.2 139.8-28.2s95.5 9.5 139.8 28.2c42.8 18.1 81.2 44 114.1 76.9 33 33 58.9 71.4 76.9 114.1 18.7 44.3 28.2 91.3 28.2 139.8 0 48.5-9.5 95.5-28.2 139.8-18.1 42.8-44 81.2-76.9 114.1-33 33-71.4 58.9-114.1 76.9-44.2 18.8-91.2 28.3-139.7 28.3z" p-id="4277"></path></svg>
        <span>{{ $root.hasPermissionToPipeline(projectId, pipelineId, 2) ? $root.localization.sr('PIPELINE_EDIT_DISCARD') : $root.localization.sr('PIPELINE_EDIT_REFRESH') }}</span>
    </a>
    <div class="pipeline-diagram-menu-right">
        Version:
        <select v-model="version" class="pipeline-diagram-version-selector">
            <option v-for="version in versions">{{ version }}</option>
        </select>
    </div>
</div>
<div class="pipeline-diagram-node-menu">
    <a v-on:click="add('start', 120, 40)" class="pipeline-diagram-node-item">
        <svg t="1674462127238" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16228" width="20" height="20"><path d="M226.592 896C167.616 896 128 850.48 128 782.736V241.264C128 173.52 167.616 128 226.592 128c20.176 0 41.136 5.536 62.288 16.464l542.864 280.432C887.648 453.792 896 491.872 896 512s-8.352 58.208-64.272 87.088L288.864 879.536C267.712 890.464 246.768 896 226.592 896z m0-704.304c-31.008 0-34.368 34.656-34.368 49.568v541.472c0 14.896 3.344 49.568 34.368 49.568 9.6 0 20.88-3.2 32.608-9.248l542.864-280.432c21.904-11.328 29.712-23.232 29.712-30.608s-7.808-19.28-29.712-30.592L259.2 200.96c-11.728-6.048-23.008-9.264-32.608-9.264z" fill="#EE7F51" p-id="16229" data-spm-anchor-id="a313x.7781069.0.i10" class="selected"></path></svg>
        <span>Start</span>
    </a>
    <a v-on:click="add('finish', 120, 40)" class="pipeline-diagram-node-item">
        <svg t="1674462188334" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="18752" width="20" height="20"><path d="M850.130248 906.087914H176.86813c-30.959148 0-56.029916-25.179143-56.029916-56.138291V176.687504c0-30.959148 25.106893-56.138291 56.029916-56.138291h673.262118c31.031398 0 56.138291 25.179143 56.138291 56.138291v673.262119c0 30.959148-25.070768 56.138291-56.138291 56.138291z m0-701.403514a28.033021 28.033021 0 0 0-28.033021-28.033021H204.9734c-15.569886 0-28.105271 12.535384-28.10527 28.033021v617.232202c0 15.497636 12.535384 28.033021 28.10527 28.033021h617.123827c15.497636 0 28.033021-12.535384 28.033021-28.033021V204.6844z" fill="#EE7F51" p-id="18753"></path></svg>
        <span>Finish</span>
    </a>
    <a v-on:click="add('parallel', 40, 40)" class="pipeline-diagram-node-item">
        <svg t="1674461832254" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2768" width="20" height="20"><path d="M889.173333 267.52L757.76 136.533333a33.706667 33.706667 0 0 0-58.026667 23.893334v262.4a34.133333 34.133333 0 0 0 58.026667 23.893333l131.413333-130.986667a34.133333 34.133333 0 0 0 0-48.213333zM889.173333 736.853333l-131.413333-130.986666a33.706667 33.706667 0 0 0-58.026667 23.893333v262.4a34.133333 34.133333 0 0 0 58.026667 23.893333l131.413333-130.986666a34.133333 34.133333 0 0 0 0-48.213334z" fill="#EE7F51" p-id="2769" data-spm-anchor-id="a313x.7781069.0.i2" class="selected"></path><path d="M102.4 426.666667m42.666667 0l256 0q42.666667 0 42.666666 42.666666l0 0q0 42.666667-42.666666 42.666667l-256 0q-42.666667 0-42.666667-42.666667l0 0q0-42.666667 42.666667-42.666666Z" fill="#EE7F51" p-id="2770" data-spm-anchor-id="a313x.7781069.0.i3" class="selected"></path><path d="M742.4 810.666667h-170.666667a42.666667 42.666667 0 0 1-30.293333-12.373334l-170.666667-170.666666a42.666667 42.666667 0 1 1 60.586667-60.586667l157.866667 158.293333h153.173333a42.666667 42.666667 0 0 1 0 85.333334zM401.066667 512a42.666667 42.666667 0 0 1-30.293334-12.373333 42.666667 42.666667 0 0 1 0-60.586667l170.666667-170.666667A42.666667 42.666667 0 0 1 571.733333 256h170.666667a42.666667 42.666667 0 0 1 0 85.333333h-153.173333l-157.866667 158.293334a42.666667 42.666667 0 0 1-30.293333 12.373333z" fill="#EE7F51" p-id="2771" data-spm-anchor-id="a313x.7781069.0.i1" class="selected"></path></svg>
        <span>Parallel</span>
    </a>
    <a v-on:click="add('sync', 40, 40)" class="pipeline-diagram-node-item">
        <svg t="1674461903322" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6450" width="20" height="20"><path d="M754.96 300.848l-56.576 56.56L804.976 464H535.568c-23.952-48-78.816-142.112-98.88-177.92C395.792 213.056 336.432 176 260.288 176H48v80h212.272c46.944 0 79.824 21.36 106.624 69.216 20.256 36.144 75.92 136.528 99.36 178.848a82249.408 82249.408 0 0 1-99.36 178.784C340.096 730.688 307.216 752 260.272 752H48v80h212.272c76.144 0 135.504-37.024 176.432-110.08C456.752 686.096 511.616 592 535.568 544h270.384l-107.568 107.568 56.576 56.56L958.608 504.48 754.96 300.848z" fill="#EE7F51" p-id="6451" data-spm-anchor-id="a313x.7781069.0.i1" class="selected"></path></svg>
        <span>Sync</span>
    </a>
    <a v-on:click="add('stage', 120, 40)" class="pipeline-diagram-node-item">
        <svg t="1674462046730" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9571" width="20" height="20"><path d="M789.333333 532.138667a64 64 0 0 1 64 64v194.389333a64 64 0 0 1-64 64h-194.368a64 64 0 0 1-64-64v-194.389333a64 64 0 0 1 64-64H789.333333z m0 64h-194.368v194.389333H789.333333v-194.389333z m-436.16-64.021334v137.514667L490.666667 669.610667v64h-137.472a64 64 0 0 1-64-64l-0.021334-137.472 64-0.021334zM426.666667 169.472a64 64 0 0 1 64 64v194.389333a64 64 0 0 1-64 64h-194.368a64 64 0 0 1-64-64v-194.389333a64 64 0 0 1 64-64H426.666667z m241.770666 120.896a64 64 0 0 1 64 64v137.472l-64-0.021333v-137.450667h-137.493333v-64h137.493333zM426.666667 233.472h-194.368v194.389333H426.666667v-194.389333z" fill="#EE7F51" p-id="9572" data-spm-anchor-id="a313x.7781069.0.i4" class="selected"></path></svg>
        <span>Stage</span>
    </a>
    <a v-on:click="add('empty', 40, 40)" class="pipeline-diagram-node-item">
        <svg t="1674484885412" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6361" width="20" height="20"><path d="M511.99 960.22C264.84 960.22 63.77 759.15 63.77 512S264.84 63.78 511.99 63.78 960.23 264.85 960.23 512 759.14 960.22 511.99 960.22z m0-823.81C304.88 136.41 136.4 304.89 136.4 512s168.48 375.59 375.59 375.59c207.13 0 375.61-168.48 375.61-375.59S719.12 136.41 511.99 136.41z" fill="#EE7F51" p-id="6362" data-spm-anchor-id="a313x.7781069.0.i3" class="selected"></path></svg>
        <span>Empty</span>
    </a>
</div>
<pomelo-workflow id="pipeline-diagram-panel" 
                 class="pipeline-diagram-panel" 
                 v-bind:edit="true" 
                 v-if="workflowVersion"
                 v-model:diagramModel="workflowVersion.diagram" />